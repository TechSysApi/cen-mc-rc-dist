swagger: 2
info:
  title: 'cen-mc-rc stream API'
  description: 'Interaction between Machine Control and Reading Coding System - [CEN/TS 16238](https://sharepoint-my.sp.swisspost.com/sites/RPZrealisierung/Freigegebene%20Dokumente/20_GesamtRPZ/50_Informatik/15_AT-Gateway/02_Spezifikation%20AT-Gateway/Schnittstellen/CEN_TS/MC_RC/TS_16238_EN.pdf).'
  contact:
    name: 'Kay Herzam (Swiss Post)'
    email: kay.herzam@post.ch
  version: 1.1.27
host: 'server:8080'
basePath: mqtt
paths:
  'cen-mc-rc/v1/machine/submit-mailpiece/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-3 Submit Mailpiece (Sensordaten empfangen)'
      description: 'The Machine submits the recognized mailpiece attributes.'
      tags:
        - machine
      parameters:
        -
          name: srcSystem
          in: path
          description: '3-letter uppercase name identifying the system issuing the message'
          type: string
          default: ASL
        -
          name: srcInstance
          in: path
          description: 'two-digit padded number identifying the system instance issuing the message'
          type: string
          default: '01'
      responses:
        default:
          schema: {$ref: '#/definitions/SubmitMailpiece'}
  'cen-mc-rc/v1/machine/update-mailpiece-attributes/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-5 Update Mailpiece Attributes (Sortierergebnis empfangen)'
      description: 'The Machine reports new or changed attributes in order to update the mailpiece attribute database on the Coding System (e.g. indicating the sort bin). (Re-)Connected to ATG - The publisher needs to buffer all unsent messages for at least 1 day until the message is sent successfully to the ATG.'
      tags:
        - machine
      parameters:
        -
          name: srcSystem
          in: path
          description: '3-letter uppercase name identifying the system issuing the message'
          type: string
          default: ASL
        -
          name: srcInstance
          in: path
          description: 'two-digit padded number identifying the system instance issuing the message'
          type: string
          default: '01'
      responses:
        default:
          schema: {$ref: '#/definitions/UpdateMailpieceAttributes'}
  'cen-mc-rc/v1/machine/request-mailpiece-attributes/{srcSystem}/{srcInstance}/{conversationId}':
    post:
      summary: 'ATG-4 Request Mailpiece Attributes (Sortierziel berechnen)'
      description: 'Request for the coding result (outlet group)'
      tags:
        - machine
      parameters:
        -
          name: srcSystem
          in: path
          description: '3-letter uppercase name identifying the system issuing the message'
          type: string
          default: ASL
        -
          name: srcInstance
          in: path
          description: 'two-digit padded number identifying the system instance issuing the message'
          type: string
          default: '01'
        -
          name: conversationId
          in: path
          description: 'ID that will be included in the transmit-mailpiece-attributes topic in order to correlate the messages'
          type: string
          default: '12345'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestMailpieceAttributes'}
  'cen-mc-rc/v1/coding/transmit-mailpiece-attributes/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-4 Transmit Mailpiece Attributes (Sortierziel berechnen)'
      description: 'The RC System returns mailpiece attributes to the Machine, either in response to a Submit Mailpiece or a Request Mailpiece Attributes. There may be multiple responses of Transmit Mailpiece Attributes for a single “Submit Mailpiece” message, e.g. partial OCR results followed with final VCS result.'
      tags:
        - coding
      parameters:
        -
          name: srcSystem
          in: path
          description: '3-letter uppercase name identifying the system issuing the message'
          type: string
          default: ZDS
        -
          name: srcInstance
          in: path
          description: 'two-digit padded number identifying the system instance issuing the message'
          type: string
          default: '01'
        -
          name: dstSystem
          in: path
          description: '3-letter uppercase name identifying the system receiving the message'
          type: string
          default: ASL
        -
          name: dstInstance
          in: path
          description: 'two-digit padded number identifying the system instance receiving the message'
          type: string
          default: '01'
        -
          name: conversationId
          in: path
          description: 'ID from the request-mailpiece-attributes request for correlation'
          type: string
          default: '12345'
      responses:
        default:
          schema: {$ref: '#/definitions/TransmitMailpieceAttributes'}
  'cen-mc-rc/v1/coding/transmit-mailpiece-attributes/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-4 Transmit Mailpiece Attributes (Sortierziel berechnen)'
      description: 'Trigger transmit-mailpiece-attributes event without request (no dstSystem and dstInstance parameters)'
      tags:
        - coding
      parameters:
        -
          name: srcSystem
          in: path
          description: '3-letter uppercase name identifying the system issuing the message'
          type: string
          default: ZDS
        -
          name: srcInstance
          in: path
          description: 'two-digit padded number identifying the system instance issuing the message'
          type: string
          default: '01'
      responses:
        default:
          schema: {$ref: '#/definitions/TransmitMailpieceAttributes'}
definitions:
  Long:
    type: integer
    description: '<a href="https://swagger.io/docs/specification/data-models/data-types/#numbers">Number @asType integer</a> as signed 64-bit long integer.'
    minimum: -9223372036854775000
    maximum: 9223372036854775000
    format: int64
    $ref: Long
  Int:
    type: integer
    description: '<a href="https://swagger.io/docs/specification/data-models/data-types/#numbers">Number @asType integer</a>'
    $ref: Int
  AddressResult:
    type: object
    properties:
      code:
        type: integer
        description: "The destination sort code is the outlet group name (Virtuelles Ziel) assigned to the mail piece.\nSpecific values are defined on a per-program basis."
        maxLength: 3
      rejectReasons:
        type: array
        items:
          type: string
        description: "This string element contains a reason why the RC System was unable to determine a result or has identified a special case. \nThe sorting machine needs to recognize the reject reason in order to sort the parcel to a special sortbin. "
      parcelHouseKey:
        description: "Below this remark follow non-cen fields  \n [This is no CEN-Field]\nIdentifiziert die Adresse, welche auf dem Paket aufgedruckt ist.\nDieser „Paket-HausKey“ kann eine Domizil Adresse, eine Postfachadresse, oder eine Pickpost Adresse sein."
        type: integer
        minimum: -9223372036854775000
        maximum: 9223372036854775000
        format: int64
      domicilHouseKey:
        description: "[This is no CEN-Field]\nIdentifiziert die Domiziladresse (DHKEY) der KDPID (personAddressKey)\nKann unterschiedlich sein bei Umleitungen usw."
        type: integer
        minimum: -9223372036854775000
        maximum: 9223372036854775000
        format: int64
      personAddressKey:
        description: "[This is no CEN-Field]\nIdentifiziert eine Person an einer (aktuellen) Domiziladresse eindeutig.\nÜber die History können die Wohnungswechsel der Person nachverfolgt werden.\nWenn Person mehrerer Häuser hat, kann sie auch mehrere Keys haben.\nSynonym zum AMP-Key"
        type: integer
        minimum: -9223372036854775000
        maximum: 9223372036854775000
        format: int64
      addressPostcode6:
        description: "[This is no CEN-Field]\n(DEPRECATED!)\nDie Erfassung liefert die 6-stellige Postleitzahl der auf dem Paket adressierten Adresse\nSechstellige PLZ (PLZ6), welche in der Sortierung verwendet wird.\nBesteht aus vierstelliger PLZ + zwei Stellen für dienstliche Angaben\n(AMPplus: Postleitzahl)\n\nNachfolgend erklärt an dem Beispiel: 188070 - Bex Paketfiliale\n\nGeografische Lage (erste vier Zahlen):\n1 = Leitkreis\n18 = Leitgebiet\n188 = Laufstrecke\n1880 = Bex\n\nMögliche dienstliche Angaben (letzte zwei Zahlen)\n56, 57 = Zoll, Import/Export\n60 = Briefzustellung\n61 = Postfach\n70 = Paketzustellung\n72 = Expresszustellung\n74 = Postautodienst\n75 = Kaserne"
        maxLength: 6
        type: integer
      streetKey:
        description: "[This is no CEN-Field]\nDie Erfassung liefert die Nummer der Strasse in der Adresse des Pakets. \nFür jede Strasse, bei der ein Paketbote alle oder einen Teil der Pakete zustellt, gibt es in ZUBOFI eine Strassennummer. Die Erfassung liefert diese Nummer.\nBeispiel: 206190\n\nKey of the street"
        type: integer
      houseNumber:
        description: "[This is no CEN-Field]\nDie Erfassung liefert die Hausnummer der auf dem Paket adressierten Adresse"
        type: integer
      houseNumberExtension:
        type: string
        description: "[This is no CEN-Field]\nDie Erfassung liefert den Hausnummerzusatz der auf dem Paket adressierten Adresse (alt. houseNumberAddOn)"
        maxLength: 6
      parcelAddressType:
        description: "[This is no CEN-Field]\n(DEPRECATED!)\nBeschreibt den Adresstyp vom Paket. "
        type: string
        enum:
          - DOMICILE_ADDRESS
          - POBOX_ADDRESS
          - MILITARY_ADDRESS
          - OVERSEAS_ADDRESS
          - DOMICILE_CORRECTION_ADDRESS
          - POBOX_CORRECTION_ADDRESS
          - PAKETBASE_INTERNAL_ADDRESS
          - VCS_EXPIRED_INTERNAL_ADDRESS
          - MCS_REJECT_INTERNAL_ADDRESS
          - DEFERRED_VCS_INTERNAL_ADDRESS
          - TEST_TARGET_INTERNAL_ADDRESS
        id: AddressType
      sortCode:
        type: string
        description: "[This is no CEN-Field]\nProprietary Swiss Post Sort Code\n\nAll numbers:\n  __________ _____________________ ___________ _____ ________________\n| Postcode | Post Code Extension | Code Type | BBZ | SequenceNumber |\n|     4    |           2         |      1    |  3  |        4       |\n\ni.e. 17620013610850"
      destinationRegion:
        type: string
        description: "[This is no CEN-Field]\nDestination region of the mailpiece\nZielregion, zB. HAE1"
    required:
      - code
    additionalProperties: false
    $ref: AddressResult
  AddressType:
    type: string
    enum:
      - DOMICILE_ADDRESS
      - POBOX_ADDRESS
      - MILITARY_ADDRESS
      - OVERSEAS_ADDRESS
      - DOMICILE_CORRECTION_ADDRESS
      - POBOX_CORRECTION_ADDRESS
      - PAKETBASE_INTERNAL_ADDRESS
      - VCS_EXPIRED_INTERNAL_ADDRESS
      - MCS_REJECT_INTERNAL_ADDRESS
      - DEFERRED_VCS_INTERNAL_ADDRESS
      - TEST_TARGET_INTERNAL_ADDRESS
    description: "DOMICILE_ADDRESS(Old Value = D)\nPOBOX_ADDRESS(Old Value = F)\nMILITARY_ADDRESS(Old Value = M)\nOVERSEAS_ADDRESS(Old Value = A)\nDOMICILE_CORRECTION_ADDRESS(Old Value = K)\nPOBOX_CORRECTION_ADDRESS(Old Value = L)\nPAKETBASE_INTERNAL_ADDRESS(Old Value = X)\nVCS_EXPIRED_INTERNAL_ADDRESS(Old Value = E)\nMCS_REJECT_INTERNAL_ADDRESS(Old Value = R)\nDEFERRED_VCS_INTERNAL_ADDRESS(Old Value = V)\nTEST_TARGET_INTERNAL_ADDRESS(Old Value = T)"
    $ref: AddressType
  BarCodeStatus:
    type: string
    enum:
      - NO_BARCODE
      - DETECTED_AND_RECOGNIZED
      - DETECTED_AND_NOT_RECOGNIZED
    description: "# Description\r\n\r\nThis type defines the states a barcode can have.\r\n\r\n**NO_BARCODE**: The barcode symbol or the code value could not be detected.\r\n\r\n**DETECTED_AND_RECOGNIZED**: The barcode/matrix code matches at least one of the below patterns / validation rules\r\n\r\n**DETECTED_AND_NOT_RECOGNIZED**: The barcode/matrix code matches none of the below patterns / validation rules\r\n\r\n---\r\n\r\nOnly recognized barcodes/matrix codes such as productCodes should be used by consuming systems.\r\n\r\nNot recognized barcodes can be useful:\r\n- in case of new barcode formats\r\n- for systems outside of PL sorting systems\r\n- for (error) analysis\r\n\r\n# Patterns/ Validation Rules:\r\n\r\n## CODE_128\r\n\r\n   1. **Internationaler Barcode**\r\n\r\n       Beispiel: EP923689367CH  \r\n       Validierung: `[A-Z]{2}[0-9]{9}[A-Z]{2}` (13 Zeichen)\r\n\r\n   2. **Nationaler Barcode**\r\n\r\n       Beispiel: 994214393000008666  \r\n       Validierung: `(98|99)[0-9]{16}` (18 Zeichen)\r\n\r\n   3. **Produktcode: PRZL (Produkt/Zusatzleistungen)**\r\n\r\n       Beispiel: 0509  \r\n       Validierung: `[0-9]{4}` (4 Zeichen)\r\n\r\n   3. **BoxId**\r\n\r\n       Erste zwei Ziffern: Typ der Box: «45» für ThermoCare-Box, Letzte sechs Ziffern: Seriennummer der Box\r\n       Beispiel: 45093456\r\n       Validierung: `[0-9]{8}` (8 Zeichen)\r\n\r\n   4. **Förderhilfentyp**\r\n\r\n       Format: Erste zwei Ziffern: Typ der Förderhilfe, Letzte vier Ziffern: Gewicht der Förderhilfe in Gramm\r\n       Beispiel: 020450\r\n       Validierung: `[0-9]{6}` (6 Zeichen)\r\n\r\n## DATA_MATRIX \r\nDatenfeld: Data Matrix \r\n- Validierung: ECC200\r\nBeispiel: 756109025843770000010000000000000000000003489510005501606300\r\nValidierung: ECC200 (Max. 90 Zeichen)"
    $ref: BarCodeStatus
  BarCodeSymbology:
    type: string
    enum:
      - CODE_128
      - DATA_MATRIX
    description: 'Provides the valid symbologies of a barcode label'
    $ref: BarCodeSymbology
  BarCode:
    type: object
    properties:
      type:
        description: 'Provides the valid symbologies of a barcode label.'
        type: string
        enum:
          - CODE_128
          - DATA_MATRIX
        id: BarCodeSymbology
      value:
        type: string
        description: 'This element contains the value of the barcode.'
      status:
        description: 'This element contains the status of the barcode.'
        type: string
        enum:
          - NO_BARCODE
          - DETECTED_AND_RECOGNIZED
          - DETECTED_AND_NOT_RECOGNIZED
        id: BarCodeStatus
    required:
      - status
    additionalProperties: false
    description: 'This type contains a barcode.'
    $ref: BarCode
  BinOccupancyState:
    type: object
    properties:
      emptyBinOccupied:
        type: boolean
      binMultipleItemOccupied:
        type: boolean
      frontOverlappingLimitExceeded:
        type: boolean
      backOverlappingLimitExceeded:
        type: boolean
      multipleItemsDetected:
        type: boolean
      conveyingAidDetected:
        type: boolean
    required:
      - emptyBinOccupied
      - binMultipleItemOccupied
      - frontOverlappingLimitExceeded
      - backOverlappingLimitExceeded
      - multipleItemsDetected
      - conveyingAidDetected
    additionalProperties: false
    description: "Doppelbelegung / Leerschalen-kontrolle\r\nemptyBinOccupied: Belegte Leerschale\r\nbinMultipleItemOccupied: Doppelbelegung - Erkennung der Schalenbelegung von DWS\r\nfrontOverlappingLimitExceeded: Überstand vorne zu groß\r\nbackOverlappingLimitExceeded: Überstand hinten zu groß\r\nmultipleItemsDetected: >= 2 Objekt erkannt\r\nconveyingAidDetected: Förderhilfe erkannt"
    $ref: BinOccupancyState
  DimensionMeasurementRangeType:
    type: string
    enum:
      - INSIDE
      - OUTSIDE
    description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range"
    $ref: DimensionMeasurementRangeType
  DimensionMeasurementResultType:
    type: string
    enum:
      - OK
      - NOK
      - NOT_RECOGNIZED
    description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized"
    $ref: DimensionMeasurementResultType
  DimensionMeasurementState:
    type: object
    properties:
      measurementResult:
        type: string
        enum:
          - OK
          - NOK
          - NOT_RECOGNIZED
        description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized"
        $ref: DimensionMeasurementResultType
      measurementRange:
        type: string
        enum:
          - INSIDE
          - OUTSIDE
        description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range"
        $ref: DimensionMeasurementRangeType
      itemSizeClassification:
        type: object
        properties:
          ok: {type: boolean, description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"}
          oversized: {type: boolean, description: 'object too big to be measured'}
          undersized: {type: boolean, description: 'object too small to be measured'}
        required:
          - ok
          - oversized
          - undersized
        additionalProperties: false
        $ref: ItemSizeClassificationType
    required:
      - measurementResult
      - measurementRange
      - itemSizeClassification
    additionalProperties: false
    description: 'State of the measurement.'
    $ref: DimensionMeasurementState
  Dimension:
    type: object
    properties:
      length:
        type: integer
        description: 'Length in [mm].'
      width:
        type: integer
        description: 'Width in [mm].'
      height:
        type: integer
        description: 'Height in [mm].'
      state:
        type: object
        properties:
          measurementResult: {type: string, enum: [OK, NOK, NOT_RECOGNIZED], description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized", $ref: DimensionMeasurementResultType}
          measurementRange: {type: string, enum: [INSIDE, OUTSIDE], description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range", $ref: DimensionMeasurementRangeType}
          itemSizeClassification: {type: object, properties: {ok: {type: boolean, description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"}, oversized: {type: boolean, description: 'object too big to be measured'}, undersized: {type: boolean, description: 'object too small to be measured'}}, required: [ok, oversized, undersized], additionalProperties: false, $ref: ItemSizeClassificationType}
        required:
          - measurementResult
          - measurementRange
          - itemSizeClassification
        additionalProperties: false
        description: 'State of the measurement.'
        $ref: DimensionMeasurementState
    additionalProperties: false
    description: 'Parcel dimensions'
    $ref: Dimension
  ItemSizeClassificationType:
    type: object
    properties:
      ok:
        type: boolean
        description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"
      oversized:
        type: boolean
        description: 'object too big to be measured'
      undersized:
        type: boolean
        description: 'object too small to be measured'
    required:
      - ok
      - oversized
      - undersized
    additionalProperties: false
    $ref: ItemSizeClassificationType
  LegalForTradeState:
    type: object
    properties:
      conveyorSpeedError:
        type: boolean
        description: 'Conveyor speed is out of tolerance.'
      storageError:
        type: boolean
        description: 'Alibi storage error.'
      dimensionError:
        type: boolean
        description: 'VMS data is not legal for trade.'
      weightError:
        type: boolean
        description: 'Weight data not legal for trade.'
    required:
      - conveyorSpeedError
      - storageError
      - dimensionError
      - weightError
    additionalProperties: false
    description: "Detailed information on legal for trade relevant measurements.\r\n\r\n- If all flags are false, the measurements are legal for trade.\r\n- If only weightError is true, dimension measurement is legal for trade.\r\n- If only dimensionError is true, weight measurement is legal for trade.\r\n- Otherwise, measurements are not legal for trade."
    $ref: LegalForTradeState
  LegalForTrade:
    type: object
    properties:
      actualVolume:
        type: integer
        description: "# GER-TODO\r\n\r\nRealvolumen VMS#1 wenn VMS#1 = VMS420/520 Realvolumen = 000000 bei VMS#1 = VMS410/510\r\n[dm3]"
        maxLength: 5
      boxVolume:
        type: integer
        description: "Boxvolumen = Länge x Breite x Höhe\r\n[dm3]"
        maxLength: 5
      volumeRatio:
        type: integer
        description: 'Realvolumen / Boxvolumen in % ganzzahlig'
      shape:
        description: 'Die Paketform.'
        type: string
        enum:
          - CUBIC
          - IRREGULAR
        id: ShapeType
      state:
        type: object
        properties:
          conveyorSpeedError: {type: boolean, description: 'Conveyor speed is out of tolerance.'}
          storageError: {type: boolean, description: 'Alibi storage error.'}
          dimensionError: {type: boolean, description: 'VMS data is not legal for trade.'}
          weightError: {type: boolean, description: 'Weight data not legal for trade.'}
        required:
          - conveyorSpeedError
          - storageError
          - dimensionError
          - weightError
        additionalProperties: false
        description: "Detailed information on legal for trade relevant measurements.\r\n\r\n- If all flags are false, the measurements are legal for trade.\r\n- If only weightError is true, dimension measurement is legal for trade.\r\n- If only dimensionError is true, weight measurement is legal for trade.\r\n- Otherwise, measurements are not legal for trade."
        $ref: LegalForTradeState
    additionalProperties: false
    description: 'Customs information'
    $ref: LegalForTrade
  Location:
    type: object
    properties:
      face:
        description: "# GER-TODO\r\nZur Erkennung auf welcher Seite (welche Kamera) der Identcode gelesen wurde (z.B. für VCS…).\r\nDer Wert ist nur auf den Identcode (national) bezogen."
        type: string
        enum:
          - TOP
          - LEFT
          - RIGHT
          - FRONT
          - REAR
          - BOTTOM
          - FRONT_LEFT
          - FRONT_RIGHT
          - REAR_LEFT
          - REAR_RIGHT
        id: MailpieceFace
      polygon:
        description: "Achtung: Die Punkte in Förderrichtung durchnummeriert, im Unterschied zum CEN-Standard, wo sie im (Gegen-)Uhrzeigersinn ausgerichtet sind.\r\nDie Punkte werden wie folgt ermittelt/ausgegeben:\r\nerster Punkt in Förde-richtung ist der Start-punkt gezählt wird fortlaufend in Förderichtung (nicht Uhrzeigersinn) \r\nalle Angaben sind bezogen auf den Triggernullpunkt (= Schalenanfang) ‚x’ wird in Förderrichtung ermittelt; ‚y’ quer zur Förderrichtung"
        type: object
        properties:
          dot: {type: array, items: {type: object, properties: {x: {type: number}, y: {type: number}}, required: [x, y], additionalProperties: false, $ref: PolygonDot}}
        required:
          - dot
        additionalProperties: false
        id: Polygon
    additionalProperties: false
    description: "To specify a region location, the region descriptor LocationT listed subsequently is used. LocationT encloses\r\nno information about the image orientation. The image orientation is specified in the TIFF header. Region\r\ncoordinates are given in pixel and are related to the image origin which corresponds to the upper left corner.\r\nThe coordinates are independent of the TIFF orientation."
    $ref: Location
  MailpieceAttr:
    type: object
    properties:
      type:
        description: "Defines the type of the mail item.\r\n\r\nWill be hardcoded to 'parcel'."
        type: string
        enum:
          - UNKNOWN
          - LETTER
          - LETTER_BUNDLE
          - FLAT
          - FLAT_BUNDLE
          - PARCEL
        id: MailpieceType
      preknowledge:
        description: "Provides preknowledge to the RC System, e.g. a barcode\r\nresult if a barcode reader is integrated into the machine."
        type: object
        properties:
          multipleMailpiecdIdRecognized: {type: boolean, description: 'If true, multiple identcodes were recognized by the camera.'}
          barCodes: {type: array, items: {type: object, properties: {type: {description: 'Provides the valid symbologies of a barcode label.', type: string, enum: [CODE_128, DATA_MATRIX], id: BarCodeSymbology}, value: {type: string, description: 'This element contains the value of the barcode.'}, status: {description: 'This element contains the status of the barcode.', type: string, enum: [NO_BARCODE, DETECTED_AND_RECOGNIZED, DETECTED_AND_NOT_RECOGNIZED], id: BarCodeStatus}}, required: [status], additionalProperties: false, description: 'This type contains a barcode.', $ref: BarCode}, description: "Contains all barcodes/matrix codes identified by the reading system.\r\n\r\nThe reading system should read and send all available barcodes/matrix codes. The consuming systems will apply further classification and filtering."}
          location: {type: object, properties: {face: {description: "# GER-TODO\r\nZur Erkennung auf welcher Seite (welche Kamera) der Identcode gelesen wurde (z.B. für VCS…).\r\nDer Wert ist nur auf den Identcode (national) bezogen.", type: string, enum: [TOP, LEFT, RIGHT, FRONT, REAR, BOTTOM, FRONT_LEFT, FRONT_RIGHT, REAR_LEFT, REAR_RIGHT], id: MailpieceFace}, polygon: {description: "Achtung: Die Punkte in Förderrichtung durchnummeriert, im Unterschied zum CEN-Standard, wo sie im (Gegen-)Uhrzeigersinn ausgerichtet sind.\r\nDie Punkte werden wie folgt ermittelt/ausgegeben:\r\nerster Punkt in Förde-richtung ist der Start-punkt gezählt wird fortlaufend in Förderichtung (nicht Uhrzeigersinn) \r\nalle Angaben sind bezogen auf den Triggernullpunkt (= Schalenanfang) ‚x’ wird in Förderrichtung ermittelt; ‚y’ quer zur Förderrichtung", type: object, properties: {dot: {type: array, items: {type: object, properties: {x: {type: number}, y: {type: number}}, required: [x, y], additionalProperties: false, $ref: PolygonDot}}}, required: [dot], additionalProperties: false, id: Polygon}}, additionalProperties: false, description: "To specify a region location, the region descriptor LocationT listed subsequently is used. LocationT encloses\r\nno information about the image orientation. The image orientation is specified in the TIFF header. Region\r\ncoordinates are given in pixel and are related to the image origin which corresponds to the upper left corner.\r\nThe coordinates are independent of the TIFF orientation.", $ref: Location}
          dimension: {description: "[extension]\r\n\r\nParcel dimension.", type: object, properties: {length: {type: integer, description: 'Length in [mm].'}, width: {type: integer, description: 'Width in [mm].'}, height: {type: integer, description: 'Height in [mm].'}, state: {type: object, properties: {measurementResult: {type: string, enum: [OK, NOK, NOT_RECOGNIZED], description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized", $ref: DimensionMeasurementResultType}, measurementRange: {type: string, enum: [INSIDE, OUTSIDE], description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range", $ref: DimensionMeasurementRangeType}, itemSizeClassification: {type: object, properties: {ok: {type: boolean, description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"}, oversized: {type: boolean, description: 'object too big to be measured'}, undersized: {type: boolean, description: 'object too small to be measured'}}, required: [ok, oversized, undersized], additionalProperties: false, $ref: ItemSizeClassificationType}}, required: [measurementResult, measurementRange, itemSizeClassification], additionalProperties: false, description: 'State of the measurement.', $ref: DimensionMeasurementState}}, additionalProperties: false, id: Dimension}
          weight: {description: "[extension]\r\n\r\nParcel weight.", type: object, properties: {value: {type: integer, description: 'Actual weight in [g].', maxLength: 6}, state: {type: object, properties: {isLegalForTrade: {type: boolean, description: 'False: Weight is not legal for trade.'}, packageDistanceError: {type: boolean}, packageLengthError: {type: boolean}, externalError: {type: boolean}, invalidMeasurement: {type: boolean}, overweight: {type: boolean, description: 'Weight higher than max. weight.'}, underweight: {type: boolean, description: 'Weight lower than min weight.'}, overload: {type: boolean}, underload: {type: boolean}, conveyorSpeedChangedDuringMeasurement: {type: boolean}, conveyorSpeedOutOfMaxLimit: {type: boolean}, alibiStorageAtScaleFailed: {type: boolean}, scaleDataFormatError: {type: boolean}}, required: [isLegalForTrade, packageDistanceError, packageLengthError, externalError, invalidMeasurement, overweight, underweight, overload, underload, conveyorSpeedChangedDuringMeasurement, conveyorSpeedOutOfMaxLimit, alibiStorageAtScaleFailed, scaleDataFormatError], additionalProperties: false, $ref: WeightMeasurementState}}, additionalProperties: false, id: Weight}
          legalForTrade: {description: "[extension]\r\n\r\nLegal For Trade information.", type: object, properties: {actualVolume: {type: integer, description: "# GER-TODO\r\n\r\nRealvolumen VMS#1 wenn VMS#1 = VMS420/520 Realvolumen = 000000 bei VMS#1 = VMS410/510\r\n[dm3]", maxLength: 5}, boxVolume: {type: integer, description: "Boxvolumen = Länge x Breite x Höhe\r\n[dm3]", maxLength: 5}, volumeRatio: {type: integer, description: 'Realvolumen / Boxvolumen in % ganzzahlig'}, shape: {description: 'Die Paketform.', type: string, enum: [CUBIC, IRREGULAR], id: ShapeType}, state: {type: object, properties: {conveyorSpeedError: {type: boolean, description: 'Conveyor speed is out of tolerance.'}, storageError: {type: boolean, description: 'Alibi storage error.'}, dimensionError: {type: boolean, description: 'VMS data is not legal for trade.'}, weightError: {type: boolean, description: 'Weight data not legal for trade.'}}, required: [conveyorSpeedError, storageError, dimensionError, weightError], additionalProperties: false, description: "Detailed information on legal for trade relevant measurements.\r\n\r\n- If all flags are false, the measurements are legal for trade.\r\n- If only weightError is true, dimension measurement is legal for trade.\r\n- If only dimensionError is true, weight measurement is legal for trade.\r\n- Otherwise, measurements are not legal for trade.", $ref: LegalForTradeState}}, additionalProperties: false, id: LegalForTrade}
          binOccupancy: {type: object, properties: {emptyBinOccupied: {type: boolean}, binMultipleItemOccupied: {type: boolean}, frontOverlappingLimitExceeded: {type: boolean}, backOverlappingLimitExceeded: {type: boolean}, multipleItemsDetected: {type: boolean}, conveyingAidDetected: {type: boolean}}, required: [emptyBinOccupied, binMultipleItemOccupied, frontOverlappingLimitExceeded, backOverlappingLimitExceeded, multipleItemsDetected, conveyingAidDetected], additionalProperties: false, description: "Doppelbelegung / Leerschalen-kontrolle\r\nemptyBinOccupied: Belegte Leerschale\r\nbinMultipleItemOccupied: Doppelbelegung - Erkennung der Schalenbelegung von DWS\r\nfrontOverlappingLimitExceeded: Überstand vorne zu groß\r\nbackOverlappingLimitExceeded: Überstand hinten zu groß\r\nmultipleItemsDetected: >= 2 Objekt erkannt\r\nconveyingAidDetected: Förderhilfe erkannt", $ref: BinOccupancyState}
        additionalProperties: false
        id: RecognitionResult
    required:
      - type
    additionalProperties: false
    description: "This type is taken from CEN/TS 15448 and extended by a “preknowledge” element.\r\nThe type MailpieceAttrT specifies basic mailpiece attributes."
    $ref: MailpieceAttr
  MailpieceFace:
    type: string
    enum:
      - TOP
      - LEFT
      - RIGHT
      - FRONT
      - REAR
      - BOTTOM
      - FRONT_LEFT
      - FRONT_RIGHT
      - REAR_LEFT
      - REAR_RIGHT
    $ref: MailpieceFace
  MailpieceType:
    type: string
    enum:
      - UNKNOWN
      - LETTER
      - LETTER_BUNDLE
      - FLAT
      - FLAT_BUNDLE
      - PARCEL
    $ref: MailpieceType
  PolygonDot:
    type: object
    properties:
      x:
        type: number
      y:
        type: number
    required:
      - x
      - y
    additionalProperties: false
    $ref: PolygonDot
  Polygon:
    type: object
    properties:
      dot:
        type: array
        items:
          type: object
          properties: {x: {type: number}, y: {type: number}}
          required: [x, y]
          additionalProperties: false
          $ref: PolygonDot
    required:
      - dot
    additionalProperties: false
    $ref: Polygon
  RecognitionResult:
    type: object
    properties:
      multipleMailpiecdIdRecognized:
        type: boolean
        description: 'If true, multiple identcodes were recognized by the camera.'
      barCodes:
        type: array
        items:
          type: object
          properties: {type: {description: 'Provides the valid symbologies of a barcode label.', type: string, enum: [CODE_128, DATA_MATRIX], id: BarCodeSymbology}, value: {type: string, description: 'This element contains the value of the barcode.'}, status: {description: 'This element contains the status of the barcode.', type: string, enum: [NO_BARCODE, DETECTED_AND_RECOGNIZED, DETECTED_AND_NOT_RECOGNIZED], id: BarCodeStatus}}
          required: [status]
          additionalProperties: false
          description: 'This type contains a barcode.'
          $ref: BarCode
        description: "Contains all barcodes/matrix codes identified by the reading system.\r\n\r\nThe reading system should read and send all available barcodes/matrix codes. The consuming systems will apply further classification and filtering."
      location:
        type: object
        properties:
          face: {description: "# GER-TODO\r\nZur Erkennung auf welcher Seite (welche Kamera) der Identcode gelesen wurde (z.B. für VCS…).\r\nDer Wert ist nur auf den Identcode (national) bezogen.", type: string, enum: [TOP, LEFT, RIGHT, FRONT, REAR, BOTTOM, FRONT_LEFT, FRONT_RIGHT, REAR_LEFT, REAR_RIGHT], id: MailpieceFace}
          polygon: {description: "Achtung: Die Punkte in Förderrichtung durchnummeriert, im Unterschied zum CEN-Standard, wo sie im (Gegen-)Uhrzeigersinn ausgerichtet sind.\r\nDie Punkte werden wie folgt ermittelt/ausgegeben:\r\nerster Punkt in Förde-richtung ist der Start-punkt gezählt wird fortlaufend in Förderichtung (nicht Uhrzeigersinn) \r\nalle Angaben sind bezogen auf den Triggernullpunkt (= Schalenanfang) ‚x’ wird in Förderrichtung ermittelt; ‚y’ quer zur Förderrichtung", type: object, properties: {dot: {type: array, items: {type: object, properties: {x: {type: number}, y: {type: number}}, required: [x, y], additionalProperties: false, $ref: PolygonDot}}}, required: [dot], additionalProperties: false, id: Polygon}
        additionalProperties: false
        description: "To specify a region location, the region descriptor LocationT listed subsequently is used. LocationT encloses\r\nno information about the image orientation. The image orientation is specified in the TIFF header. Region\r\ncoordinates are given in pixel and are related to the image origin which corresponds to the upper left corner.\r\nThe coordinates are independent of the TIFF orientation."
        $ref: Location
      dimension:
        description: "[extension]\r\n\r\nParcel dimension."
        type: object
        properties:
          length: {type: integer, description: 'Length in [mm].'}
          width: {type: integer, description: 'Width in [mm].'}
          height: {type: integer, description: 'Height in [mm].'}
          state: {type: object, properties: {measurementResult: {type: string, enum: [OK, NOK, NOT_RECOGNIZED], description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized", $ref: DimensionMeasurementResultType}, measurementRange: {type: string, enum: [INSIDE, OUTSIDE], description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range", $ref: DimensionMeasurementRangeType}, itemSizeClassification: {type: object, properties: {ok: {type: boolean, description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"}, oversized: {type: boolean, description: 'object too big to be measured'}, undersized: {type: boolean, description: 'object too small to be measured'}}, required: [ok, oversized, undersized], additionalProperties: false, $ref: ItemSizeClassificationType}}, required: [measurementResult, measurementRange, itemSizeClassification], additionalProperties: false, description: 'State of the measurement.', $ref: DimensionMeasurementState}
        additionalProperties: false
        id: Dimension
      weight:
        description: "[extension]\r\n\r\nParcel weight."
        type: object
        properties:
          value: {type: integer, description: 'Actual weight in [g].', maxLength: 6}
          state: {type: object, properties: {isLegalForTrade: {type: boolean, description: 'False: Weight is not legal for trade.'}, packageDistanceError: {type: boolean}, packageLengthError: {type: boolean}, externalError: {type: boolean}, invalidMeasurement: {type: boolean}, overweight: {type: boolean, description: 'Weight higher than max. weight.'}, underweight: {type: boolean, description: 'Weight lower than min weight.'}, overload: {type: boolean}, underload: {type: boolean}, conveyorSpeedChangedDuringMeasurement: {type: boolean}, conveyorSpeedOutOfMaxLimit: {type: boolean}, alibiStorageAtScaleFailed: {type: boolean}, scaleDataFormatError: {type: boolean}}, required: [isLegalForTrade, packageDistanceError, packageLengthError, externalError, invalidMeasurement, overweight, underweight, overload, underload, conveyorSpeedChangedDuringMeasurement, conveyorSpeedOutOfMaxLimit, alibiStorageAtScaleFailed, scaleDataFormatError], additionalProperties: false, $ref: WeightMeasurementState}
        additionalProperties: false
        id: Weight
      legalForTrade:
        description: "[extension]\r\n\r\nLegal For Trade information."
        type: object
        properties:
          actualVolume: {type: integer, description: "# GER-TODO\r\n\r\nRealvolumen VMS#1 wenn VMS#1 = VMS420/520 Realvolumen = 000000 bei VMS#1 = VMS410/510\r\n[dm3]", maxLength: 5}
          boxVolume: {type: integer, description: "Boxvolumen = Länge x Breite x Höhe\r\n[dm3]", maxLength: 5}
          volumeRatio: {type: integer, description: 'Realvolumen / Boxvolumen in % ganzzahlig'}
          shape: {description: 'Die Paketform.', type: string, enum: [CUBIC, IRREGULAR], id: ShapeType}
          state: {type: object, properties: {conveyorSpeedError: {type: boolean, description: 'Conveyor speed is out of tolerance.'}, storageError: {type: boolean, description: 'Alibi storage error.'}, dimensionError: {type: boolean, description: 'VMS data is not legal for trade.'}, weightError: {type: boolean, description: 'Weight data not legal for trade.'}}, required: [conveyorSpeedError, storageError, dimensionError, weightError], additionalProperties: false, description: "Detailed information on legal for trade relevant measurements.\r\n\r\n- If all flags are false, the measurements are legal for trade.\r\n- If only weightError is true, dimension measurement is legal for trade.\r\n- If only dimensionError is true, weight measurement is legal for trade.\r\n- Otherwise, measurements are not legal for trade.", $ref: LegalForTradeState}
        additionalProperties: false
        id: LegalForTrade
      binOccupancy:
        type: object
        properties:
          emptyBinOccupied: {type: boolean}
          binMultipleItemOccupied: {type: boolean}
          frontOverlappingLimitExceeded: {type: boolean}
          backOverlappingLimitExceeded: {type: boolean}
          multipleItemsDetected: {type: boolean}
          conveyingAidDetected: {type: boolean}
        required:
          - emptyBinOccupied
          - binMultipleItemOccupied
          - frontOverlappingLimitExceeded
          - backOverlappingLimitExceeded
          - multipleItemsDetected
          - conveyingAidDetected
        additionalProperties: false
        description: "Doppelbelegung / Leerschalen-kontrolle\r\nemptyBinOccupied: Belegte Leerschale\r\nbinMultipleItemOccupied: Doppelbelegung - Erkennung der Schalenbelegung von DWS\r\nfrontOverlappingLimitExceeded: Überstand vorne zu groß\r\nbackOverlappingLimitExceeded: Überstand hinten zu groß\r\nmultipleItemsDetected: >= 2 Objekt erkannt\r\nconveyingAidDetected: Förderhilfe erkannt"
        $ref: BinOccupancyState
    additionalProperties: false
    $ref: RecognitionResult
  RequestMailpieceAttributes:
    type: object
    properties:
      mailpieceId:
        type: string
        description: 'Represents the national identifier for the mailpiece item.'
        pattern: '(98|99)[0-9]{16}'
      idTag:
        type: string
        description: 'Represents a long living identifier for the mail item'
        maxLength: 200
      timestamp:
        type: string
        description: "[extension]\n\nTimestamp of data collection."
        format: date-time
      sourceId:
        type: string
        description: 'Refers to a module id as event-source.  '
        pattern: '[A-Z]{3}[0-9]{2}'
    required:
      - mailpieceId
      - timestamp
      - sourceId
    additionalProperties: false
    description: "This type provides the requester with the ability to obtain the results of an enrichment response. The RC\nreturns the document either on request of the MC or in an unsolicited fashion.\nThe MC expects to get all defined attributes for the corresponding mailpiece from the RC System."
  ShapeType:
    type: string
    enum:
      - CUBIC
      - IRREGULAR
    $ref: ShapeType
  SortReason:
    type: string
    enum:
      - UNKNOWN
      - OK
      - MAX_RECIRCULATION
      - ITEM_NO_READ
      - ITEM_MULTIPLE_READ
      - SCANNER_TIMEOUT
      - ITEM_STRAY
      - ITEM_INDUCTION_ERROR
      - ITEM_DISCHARGE_ERROR
      - ITEM_ERROR
      - ITEM_TRACKING_ERROR
      - ITEM_OCCUPIED_TWICE_ERROR
      - ITEM_DISAPPEARED
      - OUTLET_NOT_AVAILABLE
      - OUTLET_UNKNOWN
      - UNDEFINED_ERROR
      - NO_CAPACITY
      - DIMENSION_ERROR
      - WEIGHT_ERROR
      - SORTPLAN_ERROR
      - DIRECT_SORTING_MODE
      - ITEM_NO_SORTCODE
      - OUTLET_MISSED
    description: "Defines the machine specific sort reasons.\nList of values:\n- UNKNOWN: Default enum value to map not supported values.\n- OK: Discharge OK. This describes just a \"regular\" item\n- MAX_RECIRCULATION: Item has reached the max allowed amount of recirculations.\n- ITEM_NO_READ: Item has reached the max allowed amount of scans and the last attempt was a no read.\n- ITEM_MULTIPLE_READ: Multiple national or international id barcodes could be identified. \n- SCANNER_TIMEOUT: Item has reached the max allowed amount of scans and the last attempt was a \"no answer\" from scanner. \n- ITEM_STRAY: Stray item detected. \n- ITEM_INDUCTION_ERROR: Induction error item detected (occupied twice, wrong tray). \n- ITEM_DISCHARGE_ERROR: Discharge faults. \n- ITEM_ERROR: Item has a Logical error. \n- ITEM_TRACKING_ERROR: item was inducted with tracking fault.\n- ITEM_OCCUPIED_TWICE_ERROR: item was inducted on occupied tray.\n- ITEM_DISAPPEARED: The parcel was lost at unknown location.\n- OUTLET_NOT_AVAILABLE: No available chute could be found.\n- OUTLET_UNKNOWN: Logical destination not defined.\n- UNDEFINED_ERROR: Internal error happened.\n- NO_CAPACITY: The destination outlet has no more capacity.\n- DIMENSION_ERROR: Item oversize. The parcel was discharge, because of dimension exceed. \n- WEIGHT_ERROR: Item too heavy. The parcel was discharge, because of weight exceed.\n- SORTPLAN_ERROR: Sortplan error. \n- DIRECT_SORTING_MODE: Item sorted by the direct sorting mode. \n- ITEM_NO_SORTCODE: No sortcode has been received for this item. \n- OUTLET_MISSED: Sortcode has been updated (push or repetitive requests), physical outlet already passed."
    $ref: SortReason
  SubmitMailpiece:
    type: object
    properties:
      mailpieceId:
        type: string
        description: 'Represents the national identifier for the mailpiece item.'
        pattern: '(98|99)[0-9]{16}'
      idTag:
        type: string
        description: 'Represents a long living identifier for the mail item'
        maxLength: 200
      timestamp:
        type: string
        description: "[extension]\r\n\r\nTimestamp of data collection."
        format: date-time
      sourceId:
        type: string
        description: 'Refers to a module id as event-source.  '
        pattern: '[A-Z]{3}[0-9]{2}'
      mpAttr:
        description: "The MailpieceAttrT type is assigned to the element mp_attr. It provides basic\r\nmailpiece related information:\r\n\r\n- the kind of the mail item\r\n- the mailclass of the mail item; important for the ED because it and may affect the address recognition\r\n- the scanned faces of the mail item. The FaceSetT type is assigned to faces and allows providing a sequence of faces. \r\n   The FaceSetT types allows to link a face with the corresponding image by a page attribute.\r\n- a preknowledge result if a barcode reader or some other type of Enrichment Device is directly attached to the MC.\r\n   This result will be in accordance with the result type specified in the IC-ED interface."
        type: object
        properties:
          type: {description: "Defines the type of the mail item.\r\n\r\nWill be hardcoded to 'parcel'.", type: string, enum: [UNKNOWN, LETTER, LETTER_BUNDLE, FLAT, FLAT_BUNDLE, PARCEL], id: MailpieceType}
          preknowledge: {description: "Provides preknowledge to the RC System, e.g. a barcode\r\nresult if a barcode reader is integrated into the machine.", type: object, properties: {multipleMailpiecdIdRecognized: {type: boolean, description: 'If true, multiple identcodes were recognized by the camera.'}, barCodes: {type: array, items: {type: object, properties: {type: {description: 'Provides the valid symbologies of a barcode label.', type: string, enum: [CODE_128, DATA_MATRIX], id: BarCodeSymbology}, value: {type: string, description: 'This element contains the value of the barcode.'}, status: {description: 'This element contains the status of the barcode.', type: string, enum: [NO_BARCODE, DETECTED_AND_RECOGNIZED, DETECTED_AND_NOT_RECOGNIZED], id: BarCodeStatus}}, required: [status], additionalProperties: false, description: 'This type contains a barcode.', $ref: BarCode}, description: "Contains all barcodes/matrix codes identified by the reading system.\r\n\r\nThe reading system should read and send all available barcodes/matrix codes. The consuming systems will apply further classification and filtering."}, location: {type: object, properties: {face: {description: "# GER-TODO\r\nZur Erkennung auf welcher Seite (welche Kamera) der Identcode gelesen wurde (z.B. für VCS…).\r\nDer Wert ist nur auf den Identcode (national) bezogen.", type: string, enum: [TOP, LEFT, RIGHT, FRONT, REAR, BOTTOM, FRONT_LEFT, FRONT_RIGHT, REAR_LEFT, REAR_RIGHT], id: MailpieceFace}, polygon: {description: "Achtung: Die Punkte in Förderrichtung durchnummeriert, im Unterschied zum CEN-Standard, wo sie im (Gegen-)Uhrzeigersinn ausgerichtet sind.\r\nDie Punkte werden wie folgt ermittelt/ausgegeben:\r\nerster Punkt in Förde-richtung ist der Start-punkt gezählt wird fortlaufend in Förderichtung (nicht Uhrzeigersinn) \r\nalle Angaben sind bezogen auf den Triggernullpunkt (= Schalenanfang) ‚x’ wird in Förderrichtung ermittelt; ‚y’ quer zur Förderrichtung", type: object, properties: {dot: {type: array, items: {type: object, properties: {x: {type: number}, y: {type: number}}, required: [x, y], additionalProperties: false, $ref: PolygonDot}}}, required: [dot], additionalProperties: false, id: Polygon}}, additionalProperties: false, description: "To specify a region location, the region descriptor LocationT listed subsequently is used. LocationT encloses\r\nno information about the image orientation. The image orientation is specified in the TIFF header. Region\r\ncoordinates are given in pixel and are related to the image origin which corresponds to the upper left corner.\r\nThe coordinates are independent of the TIFF orientation.", $ref: Location}, dimension: {description: "[extension]\r\n\r\nParcel dimension.", type: object, properties: {length: {type: integer, description: 'Length in [mm].'}, width: {type: integer, description: 'Width in [mm].'}, height: {type: integer, description: 'Height in [mm].'}, state: {type: object, properties: {measurementResult: {type: string, enum: [OK, NOK, NOT_RECOGNIZED], description: "Measurement result state.\r\n\r\n- OK: Measurement VMS ok\r\n- NOK: Measurement VMS not ok\r\n- NOT_RECOGNIZED: No object recognized", $ref: DimensionMeasurementResultType}, measurementRange: {type: string, enum: [INSIDE, OUTSIDE], description: "- INSIDE: Object is within the measurement range\r\n- OUTSIDE: Object is outside of the measurement range", $ref: DimensionMeasurementRangeType}, itemSizeClassification: {type: object, properties: {ok: {type: boolean, description: "True: object size ok\r\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"}, oversized: {type: boolean, description: 'object too big to be measured'}, undersized: {type: boolean, description: 'object too small to be measured'}}, required: [ok, oversized, undersized], additionalProperties: false, $ref: ItemSizeClassificationType}}, required: [measurementResult, measurementRange, itemSizeClassification], additionalProperties: false, description: 'State of the measurement.', $ref: DimensionMeasurementState}}, additionalProperties: false, id: Dimension}, weight: {description: "[extension]\r\n\r\nParcel weight.", type: object, properties: {value: {type: integer, description: 'Actual weight in [g].', maxLength: 6}, state: {type: object, properties: {isLegalForTrade: {type: boolean, description: 'False: Weight is not legal for trade.'}, packageDistanceError: {type: boolean}, packageLengthError: {type: boolean}, externalError: {type: boolean}, invalidMeasurement: {type: boolean}, overweight: {type: boolean, description: 'Weight higher than max. weight.'}, underweight: {type: boolean, description: 'Weight lower than min weight.'}, overload: {type: boolean}, underload: {type: boolean}, conveyorSpeedChangedDuringMeasurement: {type: boolean}, conveyorSpeedOutOfMaxLimit: {type: boolean}, alibiStorageAtScaleFailed: {type: boolean}, scaleDataFormatError: {type: boolean}}, required: [isLegalForTrade, packageDistanceError, packageLengthError, externalError, invalidMeasurement, overweight, underweight, overload, underload, conveyorSpeedChangedDuringMeasurement, conveyorSpeedOutOfMaxLimit, alibiStorageAtScaleFailed, scaleDataFormatError], additionalProperties: false, $ref: WeightMeasurementState}}, additionalProperties: false, id: Weight}, legalForTrade: {description: "[extension]\r\n\r\nLegal For Trade information.", type: object, properties: {actualVolume: {type: integer, description: "# GER-TODO\r\n\r\nRealvolumen VMS#1 wenn VMS#1 = VMS420/520 Realvolumen = 000000 bei VMS#1 = VMS410/510\r\n[dm3]", maxLength: 5}, boxVolume: {type: integer, description: "Boxvolumen = Länge x Breite x Höhe\r\n[dm3]", maxLength: 5}, volumeRatio: {type: integer, description: 'Realvolumen / Boxvolumen in % ganzzahlig'}, shape: {description: 'Die Paketform.', type: string, enum: [CUBIC, IRREGULAR], id: ShapeType}, state: {type: object, properties: {conveyorSpeedError: {type: boolean, description: 'Conveyor speed is out of tolerance.'}, storageError: {type: boolean, description: 'Alibi storage error.'}, dimensionError: {type: boolean, description: 'VMS data is not legal for trade.'}, weightError: {type: boolean, description: 'Weight data not legal for trade.'}}, required: [conveyorSpeedError, storageError, dimensionError, weightError], additionalProperties: false, description: "Detailed information on legal for trade relevant measurements.\r\n\r\n- If all flags are false, the measurements are legal for trade.\r\n- If only weightError is true, dimension measurement is legal for trade.\r\n- If only dimensionError is true, weight measurement is legal for trade.\r\n- Otherwise, measurements are not legal for trade.", $ref: LegalForTradeState}}, additionalProperties: false, id: LegalForTrade}, binOccupancy: {type: object, properties: {emptyBinOccupied: {type: boolean}, binMultipleItemOccupied: {type: boolean}, frontOverlappingLimitExceeded: {type: boolean}, backOverlappingLimitExceeded: {type: boolean}, multipleItemsDetected: {type: boolean}, conveyingAidDetected: {type: boolean}}, required: [emptyBinOccupied, binMultipleItemOccupied, frontOverlappingLimitExceeded, backOverlappingLimitExceeded, multipleItemsDetected, conveyingAidDetected], additionalProperties: false, description: "Doppelbelegung / Leerschalen-kontrolle\r\nemptyBinOccupied: Belegte Leerschale\r\nbinMultipleItemOccupied: Doppelbelegung - Erkennung der Schalenbelegung von DWS\r\nfrontOverlappingLimitExceeded: Überstand vorne zu groß\r\nbackOverlappingLimitExceeded: Überstand hinten zu groß\r\nmultipleItemsDetected: >= 2 Objekt erkannt\r\nconveyingAidDetected: Förderhilfe erkannt", $ref: BinOccupancyState}}, additionalProperties: false, id: RecognitionResult}
        required:
          - type
        additionalProperties: false
        id: MailpieceAttr
    required:
      - mailpieceId
      - timestamp
      - sourceId
    additionalProperties: false
  DateTime:
    type: string
    description: "<a href=\"https://swagger.io/docs/specification/data-models/data-types/#string\">String @format date-time</a>,\nas defined by <a href=\"https://tools.ietf.org/html/rfc3339#section-5.6\">RFC 3339, section 5.6</a>,\nfor example: <code>2014-05-22T10:42:42.542+00:00</code>."
    format: date-time
    $ref: DateTime
  TransmitMailpieceAttributes:
    type: object
    properties:
      mailpieceId:
        type: string
        description: 'Represents the national identifier for the mailpiece item.'
        pattern: '(98|99)[0-9]{16}'
      timestamp:
        description: "[extension]\n\nTimestamp of data collection."
        type: string
        format: date-time
      addressResult:
        type: object
        properties:
          code: {type: integer, description: "The destination sort code is the outlet group name (Virtuelles Ziel) assigned to the mail piece.\nSpecific values are defined on a per-program basis.", maxLength: 3}
          rejectReasons: {type: array, items: {type: string}, description: "This string element contains a reason why the RC System was unable to determine a result or has identified a special case. \nThe sorting machine needs to recognize the reject reason in order to sort the parcel to a special sortbin. "}
          parcelHouseKey: {description: "Below this remark follow non-cen fields  \n [This is no CEN-Field]\nIdentifiziert die Adresse, welche auf dem Paket aufgedruckt ist.\nDieser „Paket-HausKey“ kann eine Domizil Adresse, eine Postfachadresse, oder eine Pickpost Adresse sein.", type: integer, minimum: -9223372036854775000, maximum: 9223372036854775000, format: int64}
          domicilHouseKey: {description: "[This is no CEN-Field]\nIdentifiziert die Domiziladresse (DHKEY) der KDPID (personAddressKey)\nKann unterschiedlich sein bei Umleitungen usw.", type: integer, minimum: -9223372036854775000, maximum: 9223372036854775000, format: int64}
          personAddressKey: {description: "[This is no CEN-Field]\nIdentifiziert eine Person an einer (aktuellen) Domiziladresse eindeutig.\nÜber die History können die Wohnungswechsel der Person nachverfolgt werden.\nWenn Person mehrerer Häuser hat, kann sie auch mehrere Keys haben.\nSynonym zum AMP-Key", type: integer, minimum: -9223372036854775000, maximum: 9223372036854775000, format: int64}
          addressPostcode6: {description: "[This is no CEN-Field]\n(DEPRECATED!)\nDie Erfassung liefert die 6-stellige Postleitzahl der auf dem Paket adressierten Adresse\nSechstellige PLZ (PLZ6), welche in der Sortierung verwendet wird.\nBesteht aus vierstelliger PLZ + zwei Stellen für dienstliche Angaben\n(AMPplus: Postleitzahl)\n\nNachfolgend erklärt an dem Beispiel: 188070 - Bex Paketfiliale\n\nGeografische Lage (erste vier Zahlen):\n1 = Leitkreis\n18 = Leitgebiet\n188 = Laufstrecke\n1880 = Bex\n\nMögliche dienstliche Angaben (letzte zwei Zahlen)\n56, 57 = Zoll, Import/Export\n60 = Briefzustellung\n61 = Postfach\n70 = Paketzustellung\n72 = Expresszustellung\n74 = Postautodienst\n75 = Kaserne", maxLength: 6, type: integer}
          streetKey: {description: "[This is no CEN-Field]\nDie Erfassung liefert die Nummer der Strasse in der Adresse des Pakets. \nFür jede Strasse, bei der ein Paketbote alle oder einen Teil der Pakete zustellt, gibt es in ZUBOFI eine Strassennummer. Die Erfassung liefert diese Nummer.\nBeispiel: 206190\n\nKey of the street", type: integer}
          houseNumber: {description: "[This is no CEN-Field]\nDie Erfassung liefert die Hausnummer der auf dem Paket adressierten Adresse", type: integer}
          houseNumberExtension: {type: string, description: "[This is no CEN-Field]\nDie Erfassung liefert den Hausnummerzusatz der auf dem Paket adressierten Adresse (alt. houseNumberAddOn)", maxLength: 6}
          parcelAddressType: {description: "[This is no CEN-Field]\n(DEPRECATED!)\nBeschreibt den Adresstyp vom Paket. ", type: string, enum: [DOMICILE_ADDRESS, POBOX_ADDRESS, MILITARY_ADDRESS, OVERSEAS_ADDRESS, DOMICILE_CORRECTION_ADDRESS, POBOX_CORRECTION_ADDRESS, PAKETBASE_INTERNAL_ADDRESS, VCS_EXPIRED_INTERNAL_ADDRESS, MCS_REJECT_INTERNAL_ADDRESS, DEFERRED_VCS_INTERNAL_ADDRESS, TEST_TARGET_INTERNAL_ADDRESS], id: AddressType}
          sortCode: {type: string, description: "[This is no CEN-Field]\nProprietary Swiss Post Sort Code\n\nAll numbers:\n  __________ _____________________ ___________ _____ ________________\n| Postcode | Post Code Extension | Code Type | BBZ | SequenceNumber |\n|     4    |           2         |      1    |  3  |        4       |\n\ni.e. 17620013610850"}
          destinationRegion: {type: string, description: "[This is no CEN-Field]\nDestination region of the mailpiece\nZielregion, zB. HAE1"}
        required:
          - code
        additionalProperties: false
        $ref: AddressResult
    required:
      - mailpieceId
      - timestamp
    additionalProperties: false
    description: 'This type contains the result for a mail piece that has been determined by the RC System.'
  UpdateMailpieceAttributes:
    type: object
    properties:
      mailpieceId:
        type: string
        description: 'Represents the national identifier for the mailpiece item.'
        pattern: '(98|99)[0-9]{16}'
      idTag:
        type: string
        description: 'Represents a long living identifier for the mail item'
        maxLength: 200
      timestamp:
        type: string
        description: "[extension]\n\nTimestamp of data collection."
        format: date-time
      sourceId:
        type: string
        description: 'Refers to a module id as event-source.  '
        pattern: '[A-Z]{3}[0-9]{2}'
      weight:
        type: integer
        description: 'Weight of the mail piece in [g].'
        maxLength: 6
      sortBin:
        type: integer
        description: "The name of the outlet to which the machine physically sorted the mail piece.\nThe outlet name is a 4 digit number."
        maxLength: 4
      code:
        type: integer
        description: "The destination sort code is the outlet group name (Virtuelles Ziel) assigned to the mail piece.\nSpecific values are defined on a per-program basis."
        maxLength: 3
      finalCoded:
        type: boolean
        description: "A boolean value indicating whether or not processing for a mail piece is complete.\n\n- false: mail piece was discharged\n- true: Discharging was verified"
      sortReason:
        type: string
        enum:
          - UNKNOWN
          - OK
          - MAX_RECIRCULATION
          - ITEM_NO_READ
          - ITEM_MULTIPLE_READ
          - SCANNER_TIMEOUT
          - ITEM_STRAY
          - ITEM_INDUCTION_ERROR
          - ITEM_DISCHARGE_ERROR
          - ITEM_ERROR
          - ITEM_TRACKING_ERROR
          - ITEM_OCCUPIED_TWICE_ERROR
          - ITEM_DISAPPEARED
          - OUTLET_NOT_AVAILABLE
          - OUTLET_UNKNOWN
          - UNDEFINED_ERROR
          - NO_CAPACITY
          - DIMENSION_ERROR
          - WEIGHT_ERROR
          - SORTPLAN_ERROR
          - DIRECT_SORTING_MODE
          - ITEM_NO_SORTCODE
          - OUTLET_MISSED
        description: "Defines the machine specific sort reasons.\nList of values:\n- UNKNOWN: Default enum value to map not supported values.\n- OK: Discharge OK. This describes just a \"regular\" item\n- MAX_RECIRCULATION: Item has reached the max allowed amount of recirculations.\n- ITEM_NO_READ: Item has reached the max allowed amount of scans and the last attempt was a no read.\n- ITEM_MULTIPLE_READ: Multiple national or international id barcodes could be identified. \n- SCANNER_TIMEOUT: Item has reached the max allowed amount of scans and the last attempt was a \"no answer\" from scanner. \n- ITEM_STRAY: Stray item detected. \n- ITEM_INDUCTION_ERROR: Induction error item detected (occupied twice, wrong tray). \n- ITEM_DISCHARGE_ERROR: Discharge faults. \n- ITEM_ERROR: Item has a Logical error. \n- ITEM_TRACKING_ERROR: item was inducted with tracking fault.\n- ITEM_OCCUPIED_TWICE_ERROR: item was inducted on occupied tray.\n- ITEM_DISAPPEARED: The parcel was lost at unknown location.\n- OUTLET_NOT_AVAILABLE: No available chute could be found.\n- OUTLET_UNKNOWN: Logical destination not defined.\n- UNDEFINED_ERROR: Internal error happened.\n- NO_CAPACITY: The destination outlet has no more capacity.\n- DIMENSION_ERROR: Item oversize. The parcel was discharge, because of dimension exceed. \n- WEIGHT_ERROR: Item too heavy. The parcel was discharge, because of weight exceed.\n- SORTPLAN_ERROR: Sortplan error. \n- DIRECT_SORTING_MODE: Item sorted by the direct sorting mode. \n- ITEM_NO_SORTCODE: No sortcode has been received for this item. \n- OUTLET_MISSED: Sortcode has been updated (push or repetitive requests), physical outlet already passed."
        $ref: SortReason
    required:
      - mailpieceId
      - timestamp
      - sourceId
      - sortBin
      - finalCoded
    additionalProperties: false
    description: "# GER-TODO\n\nDer Dienst ermöglicht der MC, aktualisierte oder zusätzliche Informationen in Bezug auf eine Postsendung zu übertragen, \ndie dem RC- System bereits vorgelegt worden ist. Solange sich die Postsendung zur Verarbeitung in der Maschine befindet, kann dieser \nDienst von der MC mehrfach ausgeführt werden.\nFür einen Sortierablauf ohne das Einscannen von Bildern (z.B.stationäre Bearbeitung im Zielfrachtzentrum oder Sortierung in der \nReihenfolge der Zustellung) kann mit diesem Dienst die Behälternummer zur Verfügung gestellt werden, in den die \nPostsendung physikalisch einsortiert wird; für diesen Fall muss kein submitMailpiece ausgeführt werden. "
  WeightMeasurementState:
    type: object
    properties:
      isLegalForTrade:
        type: boolean
        description: 'False: Weight is not legal for trade.'
      packageDistanceError:
        type: boolean
      packageLengthError:
        type: boolean
      externalError:
        type: boolean
      invalidMeasurement:
        type: boolean
      overweight:
        type: boolean
        description: 'Weight higher than max. weight.'
      underweight:
        type: boolean
        description: 'Weight lower than min weight.'
      overload:
        type: boolean
      underload:
        type: boolean
      conveyorSpeedChangedDuringMeasurement:
        type: boolean
      conveyorSpeedOutOfMaxLimit:
        type: boolean
      alibiStorageAtScaleFailed:
        type: boolean
      scaleDataFormatError:
        type: boolean
    required:
      - isLegalForTrade
      - packageDistanceError
      - packageLengthError
      - externalError
      - invalidMeasurement
      - overweight
      - underweight
      - overload
      - underload
      - conveyorSpeedChangedDuringMeasurement
      - conveyorSpeedOutOfMaxLimit
      - alibiStorageAtScaleFailed
      - scaleDataFormatError
    additionalProperties: false
    $ref: WeightMeasurementState
  Weight:
    type: object
    properties:
      value:
        type: integer
        description: 'Actual weight in [g].'
        maxLength: 6
      state:
        type: object
        properties:
          isLegalForTrade: {type: boolean, description: 'False: Weight is not legal for trade.'}
          packageDistanceError: {type: boolean}
          packageLengthError: {type: boolean}
          externalError: {type: boolean}
          invalidMeasurement: {type: boolean}
          overweight: {type: boolean, description: 'Weight higher than max. weight.'}
          underweight: {type: boolean, description: 'Weight lower than min weight.'}
          overload: {type: boolean}
          underload: {type: boolean}
          conveyorSpeedChangedDuringMeasurement: {type: boolean}
          conveyorSpeedOutOfMaxLimit: {type: boolean}
          alibiStorageAtScaleFailed: {type: boolean}
          scaleDataFormatError: {type: boolean}
        required:
          - isLegalForTrade
          - packageDistanceError
          - packageLengthError
          - externalError
          - invalidMeasurement
          - overweight
          - underweight
          - overload
          - underload
          - conveyorSpeedChangedDuringMeasurement
          - conveyorSpeedOutOfMaxLimit
          - alibiStorageAtScaleFailed
          - scaleDataFormatError
        additionalProperties: false
        $ref: WeightMeasurementState
    additionalProperties: false
    description: 'Weight information with a corresponding status.'
    $ref: Weight
